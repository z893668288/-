<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>旋转跳跃</title>
	</head>
	<style type="text/css">
		body{
			display: flex;
			justify-content: center;
		}
		canvas{
			background: #EEEEEE;
		}
	</style>
	<body>
		<canvas width="500" height="500"></canvas>
	</body>
</html>
<script type="text/javascript">
	var mycanvas = document.querySelector("canvas");
	var ctx = mycanvas.getContext("2d");
		var num = 0;
		
		// 1.创建绘制环境
		var ctx = mycanvas.getContext("2d");
		var ox = 1;//原大小比例
		var oy = 1;//原大小比例
		var zw = -1; //每次缩小原大小的100倍。
		var count = 0;
		var timer = setInterval(fun1,100)
		var times = setInterval(fun2,100)
		ctx.fillRect(200,200,100,100);
		ctx.translate(250,250);
		function fun1() { //缩小定时器
			count++;
			num += 10;
			ctx.clearRect(-51+(zw*count),-51+(zw*count),mycanvas.offsetWidth, mycanvas.offsetHeight);
			ctx.rotate(num*Math.PI/180);
			ctx.fillRect(-50,-50,100,100);
			if(ox > 0.8) {
				clearInterval(times);
				ox -= 0.02;
				oy -= 0.02;
			}else if(ox <= 0.8){
				console.log(times)
				times = setInterval(fun2,100);	
				clearInterval(timer);
			}	
			ctx.scale(ox,oy);
		}
		function fun2() {//放大定时器
			count++;
			num += 10;
			ctx.clearRect(-51+(zw*count),-51+(zw*count),mycanvas.offsetWidth, mycanvas.offsetHeight);
			ctx.rotate(num*Math.PI/180);
			ctx.fillRect(-50,-50,100,100);
			if(ox < 1.25) {
				ox += 0.02;
				oy += 0.02;
			}else if(ox >=1.25) {
				timer = setInterval(fun1,100);
				clearInterval(times);
			}
		}
</script>